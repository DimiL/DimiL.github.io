<!DOCTYPE html>
<html>
<body>
<p>CORS</p>
<img id="scream" src="http://www.mouserunner.com/images/FxWpTrue.png" alt="FF" width="240" height="180">

<p>Canvas to fill:</p>
<canvas id="myCanvas" width="300" height="240" style="border:1px solid #d3d3d3;"></canvas>

<p><button onclick="myCanvas()">Try it</button></p>

<script>
  function myCanvas() {
    var img = new Image;
    img.src = "http://4.bp.blogspot.com/-8C-bib7pqq0/UaBuTr2WtWI/AAAAAAAAEZw/610Vxfolx9U/s1600/firefox.png";
    //img.src = "http://dimil.github.io/cors/ff.jpg";
    img.crossOrigin = "Anonymous";
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
//    var img = document.getElementById("scream");
    ctx.drawImage( img, 10,10);
    localStorage.setItem( "savedImageData", c.toDataURL("image/png") );
  }
</script>

</body>
</html>

<!--
<html>
  <body>
    <p>CORS</p>
    <script>
      console.log("[Dimi]Run 1");
      var img = new Image;
      var canvas = document.createElement("canvas");
      var ctx = canvas.getContext("2d");
//      src = "http://example.com/image"; // insert image url here
      var src = "http://dimil.github.io/cors/ff.jpg";

//      img.crossOrigin = "Anonymous";

      img.onload = function() {
        console.log("[Dimi]images on load");
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage( img, 0, 0 );
      //localStorage.setItem( "savedImageData", canvas.toDataURL("image/png") );
      }
      img.src = src;
      // make sure the load event fires for cached images too
      /*
      if ( img.complete || img.complete === undefined ) {
        img.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
        img.src = src;
      }
      */
    </script>
  </body>
</html>
-->
